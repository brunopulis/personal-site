{# 
  Navegação Principal Atualizada com URLs Dinâmicas
  
  Este é um exemplo de como atualizar o main-nav.njk para usar
  o sistema de URLs dinâmicas baseado em idioma.
#}

{% set drawerNav = meta.navigation.drawerNav %}
{% set subMenu = meta.navigation.subMenu %}
{% set navData = i18n_navigation %}

<nav id="mainnav" class="mainnav" aria-label="{{ meta.navigation.ariaTop }}">
  <ul class="cluster" role="list" no-flash>
    {# Link para Home #}
    <li>
      <a 
        href="{{ '' | getHomeUrl(page.lang) }}"
        {{ helpers.getLinkActiveState('' | getHomeUrl(page.lang), page.url) | safe }}
      >
        Home
      </a>
    </li>
    
    {# Links do menu principal usando dados dinâmicos #}
    {% for item in navData.top %}
      {% if item.submenu %}
        <li class="relative">
          <button
            data-submenu-toggle
            aria-expanded="false"
            aria-labelledby="mainnav-{{ loop.index }}"
            aria-controls="mainnav-{{ loop.index }}-sub"
          >
            {{ item.text[page.lang] }} {% svg "misc/chev-down" %}
          </button>
          <ul class="nav-sublist | cluster" id="mainnav-{{ loop.index }}-sub">
            {% for subitem in item.submenu %}
              <li>
                <a
                  href="{{ subitem.key | getLocalizedUrl(page.lang) }}"
                  {{ helpers.getLinkActiveState(subitem.key | getLocalizedUrl(page.lang), page.url) | safe }}
                >
                  {{ subitem.text[page.lang] }}
                </a>
              </li>
            {% endfor %}
          </ul>
        </li>
      {% else %}
        <li>
          <a
            href="{{ item.key | getLocalizedUrl(page.lang) }}"
            {{ helpers.getLinkActiveState(item.key | getLocalizedUrl(page.lang), page.url) | safe }}
          >
            {{ item.text[page.lang] }}
          </a>
        </li>
      {% endif %}
    {% endfor %}
  </ul>
</nav>

{# Resto do código permanece igual #}
{% if drawerNav %}
  <template id="burger-template">
    <button data-drawer-toggle class="cluster" type="button" aria-expanded="false" aria-controls="mainnav">
      <span>{{ meta.navigation.navLabel }}</span>
      <svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M5 12h14" />
        <path d="M12 5v14" />
      </svg>
    </button>
  </template>

  {% css "local" %}
    {% include "css/nav-main-drawer-cls.css" %}
  {% endcss %}

  {% js "defer" %}
    {% include "scripts/nav-drawer.js" %}
  {% endjs %}
{% endif %}

{% if subMenu %}
  {% js "defer" %}
    {% include "scripts/nav-sub.js" %}
  {% endjs %}
{% endif %}
