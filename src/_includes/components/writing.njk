<section aria-labelledby="posts-title">
  <h2 id="post-title">Últimos artigos</h2>
  <p>Escrevo para organizar ideias, compartilhar aprendizados e questionar práticas comuns da web.</p>

  {% set posts = collections.posts %}
  {% if (posts | length) == 0 %}
    {% set posts = collections.searchIndex | default([]) %}
  {% endif %}

  {% if posts | length > 0 %}
    <div class="grid">
      {% for post in posts.slice(0, 3) %}
        {% set title = post.data.title %}
        {% set dateVal = post.data.pubDate %}
        {% set desc = post.data.description | striptags | truncate(160) %}
        {% set tags = post.data.tags %}
        <article class="h-entry">
          <h3 class="mt-2 font-bold group-hover:text-primary text-2xl transition-colors cursor-pointer">
            <a href="{{ post.url }}" class="u-url">{{ title }}</a>
          </h3>
          {% if dateVal %}
            <time class="dt-published" datetime="{{ dateVal | toISOString }}">
              {{ dateVal | readableDate }}
            </time>
          {% endif %}

          {% if desc %}
            <p>{{ desc }}</p>
          {% endif %}
          {% if tags %}
            <div class="mt-4">
              {% for tag in tags %}
                <span class="tags">#{{ tag }}</span>
              {% endfor %}
            </div>
          {% endif %}
        </article>
      {% endfor %}
    </div>
  {% endif %}

  <a href="/blog">
    ver todos os artigos {% lucide "chevron-right", { class: "w-4 h-4" } %}
  </a>
</section>
