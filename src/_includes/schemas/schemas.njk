{% macro serviceSchema(service, description, url, priceRange) %}
<script type="application/ld+json">
{
  "@context": "https://schema.org/",
  "@type": "Service",
  "name": "{{ service }}",
  "description": "{{ description }}",
  "url": "https://brunopulis.com{{ url }}",
  "provider": {
    "@type": "Organization",
    "name": "Bruno Pulis",
    "url": "https://brunopulis.com",
    "logo": "https://brunopulis.com/logo.png",
    "sameAs": [
      "https://github.com/brunopulis",
      "https://linkedin.com/in/brunopulis",
      "https://mastodon.social/@brunopulis"
    ],
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "Belo Horizonte",
      "addressRegion": "MG",
      "addressCountry": "BR"
    }
  }
  {% if priceRange %}, "priceRange": "{{ priceRange }}"{% endif %},
  "areaServed": "BR",
  "availableLanguage": ["pt-BR", "en"]
}
</script>
{% endmacro %}

{% macro breadcrumbSchema(items) %}
<script type="application/ld+json">
{
  "@context": "https://schema.org/",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {% for item in items %}
    {
      "@type": "ListItem",
      "position": {{ loop.index }},
      "name": "{{ item.name }}",
      "item": "https://brunopulis.com{{ item.url }}"
    }{% if not loop.last %},{% endif %}
    {% endfor %}
  ]
}
</script>
{% endmacro %}

{% macro orgSchema() %}
<script type="application/ld+json">
{
  "@context": "https://schema.org/",
  "@type": "Organization",
  "name": "Bruno Pulis - Acessibilidade Digital",
  "url": "https://brunopulis.com",
  "logo": "https://brunopulis.com/logo.png",
  "description": "Acessibilidade digital, remediação de sites, auditoria WCAG, treinamentos e consultoria.",
  "address": {
    "@type": "PostalAddress",
    "addressLocality": "Belo Horizonte",
    "addressRegion": "MG",
    "addressCountry": "BR"
  },
  "sameAs": [
    "https://github.com/brunopulis",
    "https://linkedin.com/in/brunopulis",
    "https://mastodon.social/@brunopulis"
  ],
  "contact": {
    "@type": "ContactPoint",
    "contactType": "Customer Support",
    "url": "https://brunopulis.com/contato",
    "email": "bruno@brunopulis.com"
  }
}
</script>
{% endmacro %}

{% macro websiteSchema() %}
<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "WebSite",
        "@id": "{{ meta.url }}#website",
        "url": "{{ meta.url }}",
        "name": "{{ meta.siteName }}",
        "description": "{{ meta.siteDescription }}",
        "inLanguage": "{{ meta.locale }}"
      }
    ]
  }
</script>
{% endmacro %}

{% macro blogPostingSchema() %}
<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": {
      "@type": "WebPage"
    },
    "isPartOf": {
      "@id": "{{ meta.url }}#website"
    },
    "@id": "{{ url }}",
    "headline": "{{ title or meta.siteName }}",
    "description": "{{ discover.description or description or meta.siteDescription }}",
    "image": "{{ meta.url }}{% if discover.image %}/assets/images/{{ discover.image }}{% else %}{{ meta.opengraph_default }}{% endif %}",
    "inLanguage": "{{ meta.locale }}",
    "publisher": {
      "@type": "{{ meta.siteType }}",
      "name": "{{ meta.author.name }}",
      "url": "{{ meta.url }}"
    },
    "author": {
      "@type": "Person",
      "name": "{{ meta.author.name }}"
    },
    "datePublished": "{{ date | toISOString }}"
  }
</script>
{% endmacro %}