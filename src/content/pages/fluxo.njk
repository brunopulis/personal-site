---
layout: base
title: Fluxo
---

<div class="wrapper flow">
  
  <header class="page-header flow">
    <h1 class="page-header__title">Fluxo</h1>
    <p class="page-header__description">
      Um registro do que tenho consumido, compartilhado e pensado. Livros, mÃºsicas, 
      filmes, links interessantes e reflexÃµes soltas.
    </p>
  </header>

  <!-- Filtros -->
  <div class="filters cluster">
    <span class="filters__label">Filtrar por:</span>
    <button class="filter-button filter-button--active">
      Todos ({{ collections.stream.length }})
    </button>
    <!-- Adicione botÃµes para cada tipo com JS -->
  </div>

  <!-- Links para pÃ¡ginas especializadas -->
  <div class="quick-links cluster">
    <a href="/livros" class="link-arrow">Ver todos os livros â†’</a>
    <a href="/filmes" class="link-arrow">Ver todos os filmes â†’</a>
    <a href="/musicas" class="link-arrow">Ver todas as mÃºsicas â†’</a>
  </div>

  <!-- Stream agrupado por mÃªs -->
  {% for key, group in collections.streamByMonth %}
  <section class="stream-month flow">
    <h2 class="stream-month__title">{{ group.label }}</h2>
    
    <div class="stream-grid flow">
      {% for item in group.items %}
      <article class="stream-card stream-card--{{ item.data.type }}">
        <div class="stream-card__icon">
          {% if item.data.type == 'book' %}ğŸ“š
          {% elif item.data.type == 'music' %}ğŸµ
          {% elif item.data.type == 'film' %}ğŸ¬
          {% elif item.data.type == 'podcast' %}ğŸ§
          {% elif item.data.type == 'concert' %}ğŸ¤
          {% elif item.data.type == 'link' %}ğŸ”—
          {% elif item.data.type == 'note' %}ğŸ’­
          {% endif %}
        </div>
        
        <div class="stream-card__content flow">
          <div class="stream-card__header">
            <h3 class="stream-card__title">{{ item.data.title }}</h3>
            <div class="stream-card__meta cluster">
              <span class="stream-card__type">
                {% if item.data.type == 'book' %}Livro
                {% elif item.data.type == 'music' %}MÃºsica
                {% elif item.data.type == 'film' %}Filme
                {% elif item.data.type == 'podcast' %}Podcast
                {% elif item.data.type == 'concert' %}Show
                {% elif item.data.type == 'link' %}Link
                {% elif item.data.type == 'note' %}Nota
                {% endif %}
              </span>
              <span>â€¢</span>
              <time datetime="{{ item.data.date | formatDate }}">
                {{ item.data.date | formatDate("dd/MM/yyyy") }}
              </time>
            </div>
          </div>

          {% if item.data.detail %}
          <p class="stream-card__detail">{{ item.data.detail }}</p>
          {% endif %}

          <!-- InformaÃ§Ãµes vinculadas -->
          {% if item.data.bookSlug %}
            {% set linkedBook = collections.livros | findBySlug(item.data.bookSlug) %}
            {% if linkedBook %}
            <div class="stream-card__linked">
              <span>por {{ linkedBook.data.author }}</span>
              {% if linkedBook.data.rating %}
              <span>â€¢</span>
              <span class="rating">{{ 'â­' | repeat(linkedBook.data.rating) }}</span>
              {% endif %}
            </div>
            {% endif %}
          {% endif %}

          <!-- ConteÃºdo markdown -->
          <div class="prose">
            {{ item.templateContent | safe }}
          </div>

          <!-- Link externo -->
          {% if item.data.url %}
          <a href="{{ item.data.url }}" target="_blank" rel="noopener noreferrer" class="link-arrow">
            Acessar link externo â†’
          </a>
          {% endif %}

          <!-- Link para pÃ¡gina detalhada -->
          {% if item.data.bookSlug %}
          <a href="/livros/{{ item.data.bookSlug }}" class="link-arrow">
            Ver detalhes completos â†’
          </a>
          {% elif item.data.filmSlug %}
          <a href="/filmes/{{ item.data.filmSlug }}" class="link-arrow">
            Ver detalhes completos â†’
          </a>
          {% elif item.data.musicSlug %}
          <a href="/musicas/{{ item.data.musicSlug }}" class="link-arrow">
            Ver detalhes completos â†’
          </a>
          {% endif %}

          <!-- Tags -->
          {% if item.data.tags %}
          <div class="tags cluster">
            {% for tag in item.data.tags %}
            <span class="tag">#{{ tag }}</span>
            {% endfor %}
          </div>
          {% endif %}
        </div>
      </article>
      {% endfor %}
    </div>
  </section>
  {% endfor %}

  <!-- RSS -->
  <div class="rss-link">
    <a href="/feed.xml" class="cluster">
      <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
        <path d="M6.18 15.64a2.18 2.18 0 0 1 2.18 2.18C8.36 19 7.38 20 6.18 20C5 20 4 19 4 17.82a2.18 2.18 0 0 1 2.18-2.18M4 4.44A15.56 15.56 0 0 1 19.56 20h-2.83A12.73 12.73 0 0 0 4 7.27V4.44m0 5.66a9.9 9.9 0 0 1 9.9 9.9h-2.83A7.07 7.07 0 0 0 4 12.93V10.1z"/>
      </svg>
      Assinar feed RSS
    </a>
  </div>

</div>