---
const { item } = Astro.props;
---

<li class="tree-item">
  {
    item.children && item.children.length > 0 ? (
      <details open>
        <summary class="folder">
          <span class="icon">üìÅ</span>
          <a href={item.url || '#'}>{item.name}</a>
        </summary>
        <ul>
          {item.children.map((child) => (
            <Astro.self item={child} />
          ))}
        </ul>
      </details>
    ) : (
      // CASO SEJA ARQUIVO (P√ÅGINA)
      <div class="file">
        <span class="icon">üìÑ</span>
        <a href={item.url}>{item.name}</a>
      </div>
    )
  }
</li>

<style>
  ul {
    margin-left: 1.5rem;
    border-left: 1px solid #eee; /* Linha guia vertical */
    padding-left: 1rem;
    list-style: none;
  }

  .tree-item {
    margin: 0.5rem 0;
    font-family: 'Courier New', Courier, monospace; /* Fonte monoespa√ßada estilo terminal */
  }

  summary {
    cursor: pointer;
    font-weight: bold;
    list-style: none; /* Remove tri√¢ngulo padr√£o do details */
  }

  summary::-webkit-details-marker {
    display: none;
  }

  a {
    color: #333;
    text-decoration: none;
  }

  a:hover {
    color: #0056b3;
    text-decoration: underline;
  }

  .icon {
    opacity: 0.7;
    margin-right: 0.5rem;
  }
</style>
