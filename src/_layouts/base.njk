<!doctype html>
<html lang="{{ meta.lang }}">
<head>
  <!-- 1 charset/viewport -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="color-scheme" content="light">
  <!-- 2 title -->
  <title>
    {%- if title -%}
      {{ title }} | {{ meta.siteName }}
    {%- else -%}
      {{ meta.siteName }}
    {%- endif -%}
  </title>

  <base href="{{ page.url }}" />

  <!-- 3 synchronous js  -->

  <!-- 4 schema settings -->
  {% include "head/schema.njk" %}

  <!-- 5 CSS  -->
  <link rel="stylesheet" href="/assets/css/main-dist.css">

  <!-- 6 preloads  -->
  {% include "head/preloads.njk" %}

  <!-- 7 defer  -->
  <script type="module" src=""></script>
  {% include "head/js-defer.njk" %}

  <!-- 8 meta tags, icons, open graph etc.  -->
  {% include "head/meta-info.njk" %}

  {% block head %}{% endblock %}
</head>

<body class="relative">
  {% set indicateActiveHome %}
  {% if page.url == "/" %}
  aria-current=page
  {% endif %}
  {% endset %}
  {% include "partials/header.njk" %}

  <main id="main" class="{% block main_class %}{% endblock %}">
    {% block content %}
    {{ content | safe }}
    {% endblock %}
  </main>

  {% block after_main %}{% endblock %}
  {% include "partials/footer.njk" %}

    {# Web Components - Scripts que carregam no navegador #}
  <script type="module" src="/assets/scripts/is-land.js"></script>
  
  {# Componente de neve - só aparece se o usuário não tiver preferência por movimento reduzido #}
  <is-land on:media="(prefers-reduced-motion: no-preference)">
    <script type="module" src="/assets/scripts/snow-fall.js"></script>
    <snow-fall count="150" style="--snow-fall-color: white"></snow-fall>
  </is-land>
</body>
</html>
