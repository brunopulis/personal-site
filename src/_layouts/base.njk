<!doctype html>
<html lang="pt-br" class="scroll-smooth">

<head>
  <!-- 1 charset/viewport -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- 2 title -->
  <title>
    {%- if title -%}
    {{ title }} | {{ site.name }}
    {%- else -%}
    {{ site.name }}
    {%- endif -%}
  </title>
  <base href="{{ page.url }}" />

  <!-- 3 synchronous js  -->

  <!-- 4 schema settings -->
  {# SEO: Structured Data (JSON-LD) #}
  {% if site.url %}
  <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@graph": [
          {
            "@type": "WebSite",
            "url": "{{ site.url }}",
            "name": "{{ site.name }}",
            "description": "{{ site.description }}"
          },
          {
            "@type": "Organization",
            "name": "{{ site.author }}",
            "url": "{{ site.url }}",
            "sameAs": [
              {% set sameAs = [] %}
              {% if site.social and site.social.github %}
                {% set sameAs = sameAs.concat(['https://github.com/' + site.social.github]) %}
              {% endif %}
              {% if site.social and site.social.twitter %}
                {% set sameAs = sameAs.concat(['https://twitter.com/' + (site.social.twitter | replace('@',''))]) %}
              {% endif %}
              {% for link in sameAs %}
                "{{ link }}"{% if not loop.last %},{% endif %}
              {% endfor %}
            ]
          }
        ]
      } 
    </script>

  {# Breadcrumbs: Home > Current #}
  {% set isHome = (page.url or '/') == '/' %}
  <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "{{ site.url }}"
          }{% if not isHome %},
          {
            "@type": "ListItem",
            "position": 2,
            "name": "{{ title or site.name }}",
            "item": "{{ site.url }}{{ page.url or '/' }}"
          }
          {% endif %}
        ]
      }
    </script>

  {# BlogPosting for content pages (#blog, #notes, #poetry, #journal) #}
  {% set url = page.url or '/' %}
  {% set isPostLike = (url | slice(0,6) == '/blog/' ) or (url | slice(0,7) == '/notes/' ) or (url | slice(0,8) ==
  '/poetry/' ) or (url | slice(0,9) == '/journal/' ) %}
  {% if isPostLike %}
  <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@type": "BlogPosting",
          "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "{{ (site.url and (site.url + (page.url or '/'))) or '' }}"
          },
          "headline": "{{ title or site.name }}",
          {% if ogImage %}"image": ["{{ ogImage }}"],{% endif %}
          "datePublished": "{{ page.date | htmlDateString }}",
          "dateModified": "{{ page.date | htmlDateString }}",
          "author": {
            "@type": "Person",
            "name": "{{ author or site.author }}"
          },
          "publisher": {
            "@type": "Organization",
            "name": "{{ site.name }}"
          },
          "description": "{{ description or site.description }}"
        }
      </script>
  {% endif %}
  {% endif %}

  <!-- 5 CSS  -->
  <link rel="stylesheet" href="/assets/css/index.css">

  <!-- 6 preloads  -->
  {% include "head/preloads.njk" %}

  <!-- 7 defer  -->
  <script type="module" src=""></script>
  {% include "head/js-defer.njk" %}

  <!-- 8 meta tags, icons, open graph etc.  -->
  {% include "head/meta-info.njk" %}

  <script defer src="https://cloud.umami.is/script.js" data-website-id="88ff3bbf-61c5-4303-bea2-f0da4f5dbb53"></script>
</head>

<body class="flex flex-col min-h-screen">
  <a href="#main" class="sr-only">{{ site.skipContent }}</a>
  {% include "partials/header.njk" %}

  <div class="flex-1 mx-auto px-4 py-6 max-w-5xl container">
    <main id="main">
      {{ content | safe }}
    </main>
  </div>

  {% include "partials/footer.njk" %}
  {% if hasForm %}
  {% include "partials/forminit-script.njk" %}
  {% endif %}

</html>