<!-- ---
import {
  getLanguageFromPath,
  useTranslations,
  getLocalizedPath,
} from '@i18n/utils';
import type { Language } from '@i18n/index';

import { db, GuestBook, desc } from 'astro:db';
import Layout from '@layout/Layout.astro';
import HeroSection from '@components/layouts/HeroSection.astro';
import GuestbookForm from '@components/guestbook/GuestbookForm.astro';
import GuestList from '@components/guestbook/GuestList.astro';

const entries = await db
  .select()
  .from(GuestBook)
  .orderBy(desc(GuestBook.createdAt));

const lang = getLanguageFromPath(Astro.url.pathname) as Language;
const t = useTranslations(lang);
---

<Layout
  title="Guestbook - Bruno Pulis"
  description="Leave your message, share your experience, or just say hi! I love reading notes from those who stop by here."
  currentLocale="en"
  routeKey="guestbook"
>
  <main id="main-content">
    <HeroSection
      title="Guestbook"
      description="Leave your message, share your experience, or just say hi! I love reading notes from those who stop by here."
    />

    <section class="bg-white py-16">
      <div class="mx-auto max-w-2xl px-6">
        <GuestbookForm />
      </div>
    </section>

    <section class="bg-gray-50 py-16">
      <div class="mx-auto max-w-4xl px-6">
        <div class="mb-12 text-center">
          <h2 class="mb-2 text-3xl font-bold text-gray-900">Recent messages</h2>
          <p class="text-gray-600">
            {entries.length} people have already left their mark here ❤️
          </p>
        </div>

        <GuestList entries={entries as any} />
      </div>
    </section>
  </main>
</Layout> -->
