---
import Layout from '@/layouts/Layout.astro';
import Header from '@/components/Header.astro';
import HeroSection from '@/components/HeroSection.astro';
import Footer from '@/components/Footer.astro';
---

<Layout
  title="Pesquisar - Bruno Pulis"
  description="Pesquise em todo o conteúdo do site"
>
  <Header />
  <main id="main-content">
    <HeroSection
      title="Pesquisa"
      description="Use palavras-chave, frases ou perguntas."
    />
    <section class="py-16 bg-white dark:bg-gray-800">
    <div class="container mx-auto">
      <h1 class="text-4xl font-bold mb-8 text-center">Pesquisar no site</h1>
      <p class="text-lg mb-8 text-center">
        Pesquise em todo o conteúdo do site. Você pode usar palavras-chave, frases ou perguntas.
      </p>
      <div id="search"></div>
    </div>
    </section>
  </main>

  <Footer />
</Layout>

<script>
  // Importa e inicializa o Pagefind quando a página carrega
  // window.addEventListener('load', async () => {
  //   const { PagefindUI } = await import('@astro/pagefind-ui');

  //   new PagefindUI({
  //     element: "#search",
  //     baseUrl: "/",
  //     bundlePath: "/_pagefind/",
  //     showImages: true,
  //     translations: {
  //       placeholder: "Digite sua busca...",
  //       clear_search: "Limpar busca",
  //       load_more: "Ver mais resultados",
  //       search_label: "Pesquisar no site",
  //       filters_label: "Filtros",
  //       zero_results: "Nenhum resultado encontrado para [SEARCH_TERM]",
  //       many_results: "[COUNT] resultados encontrados para [SEARCH_TERM]",
  //       one_result: "[COUNT] resultado encontrado para [SEARCH_TERM]",
  //       searching: "Buscando por [SEARCH_TERM]...",
  //     }
  //   });
  // });
</script>

<style is:global>
  /* Estilos do Pagefind */
  .pagefind-ui {
    --pagefind-ui-scale: 1;
    --pagefind-ui-primary: var(--color-primary);
    --pagefind-ui-text: var(--color-text);
    --pagefind-ui-background: var(--color-background);
    --pagefind-ui-border: var(--color-border);
    --pagefind-ui-tag: var(--color-accent);
  }

  .pagefind-ui .pagefind-ui__search-input {
    width: 100%;
    padding: 1rem;
    border: 2px solid var(--pagefind-ui-border);
    border-radius: 0.5rem;
    font-size: 1.125rem;
  }

  .pagefind-ui .pagefind-ui__results {
    margin-top: 2rem;
  }

  .pagefind-ui .pagefind-ui__result {
    padding: 1.5rem;
    margin-bottom: 1rem;
    border: 1px solid var(--pagefind-ui-border);
    border-radius: 0.5rem;
  }

  .pagefind-ui .pagefind-ui__result-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--pagefind-ui-primary);
  }

  .pagefind-ui .pagefind-ui__result-excerpt {
    margin-top: 0.5rem;
    color: var(--pagefind-ui-text);
  }
</style>