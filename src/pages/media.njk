---
layout: page
title: "Meus Filmes e Séries"
description: "Uma coleção dos meus favoritos, os que estou assistindo e minhas opiniões"
permalink: "{% if pagination.pageNumber > 0 %}/media/{{ pagination.pageNumber + 1 }}/{% else %}/media/{% endif %}"
pagination:
  data: collections.medias
  size: 12
---

<header class="flow">
  <h1 class="p-name">{{ title }}</h1>
  <p>{{ description }}</p>
</header>

{% set movies = collections.medias | filterByMediaType("movie") %}
{% set tvShows = collections.medias | filterByMediaType("tv") %}

{% if movies | length > 0 %}
<section class="region flow">
  <h2>Filmes</h2>
  {% set moviesByYear = movies | lazyGroupByWatchedYear %}
  {% for year in moviesByYear | sortKeys %}
  <div data-year="{{ year }}">
    <h3>Assistidos em {{ year }}</h3>
    <ul class="grid" role="list">
      {% for movie in moviesByYear[year] | sort(attribute="data.watchedDate") | reverse %}
      <li>
        <article class="flow card">
          {% if movie.data.poster %}
          <img src="{{ movie.data.poster }}" alt="{{ movie.data.title }}"
            class="w-full object-cover transition-transform duration-500" height="270" loading="lazy" decoding="async" />
          {% endif %}

          <div class="flow">
            <h3 class="mt-6 font-bold text-brand-red-500">
              {% if movie.data.url %}
              <a href="{{ movie.data.url }}" class="font-bold text-brand-red-500" target="_blank"
                rel="noopener noreferrer">
                {{ movie.data.title }}
              </a>
              {% else %}
              {{ movie.data.title }}
              {% endif %}
            </h3>
            {% if movie.data.subtitle %}
            <p class="text-sm">{{ movie.data.subtitle }}</p>
            {% endif %}
            {% if movie.data.description %}
            <p class="text-sm">{{ movie.data.description }}</p>
            {% endif %}
            {% if movie.data.director %}
            <p class="font-semibold text-brand-red-500">{{ movie.data.director }}</p>
            {% endif %}
            {% if movie.data.rating %}
            <p>{{ movie.data.rating | starRating }}</p>
            {% endif %}
          </div>
        </article>
      </li>
      {% endfor %}
    </ul>
  </div>
  {% endfor %}
</section>
{% endif %}

{% if tvShows | length > 0 %}
<section class="region flow">
  <h2>Séries de TV</h2>
  {% set tvByYear = tvShows | lazyGroupByWatchedYear %}
  {% for year in tvByYear | sortKeys %}
  <div data-year="{{ year }}">
    <h3>Assistidas em {{ year }}</h3>
    <ul class="grid" role="list">
      {% for show in tvByYear[year] | sort(attribute="data.watchedDate") | reverse %}
      <li>
        <article class="flow card">
          {% if show.data.poster %}
          <img src="{{ show.data.poster }}" alt="{{ show.data.title }}"
            class="w-full object-cover transition-transform duration-500" height="270" loading="lazy" decoding="async" />
          {% endif %}

          <div class="flow">
            <h3 class="mt-6 font-bold text-brand-red-500">
              {% if show.data.url %}
              <a href="{{ show.data.url }}" class="font-bold text-brand-red-500" target="_blank"
                rel="noopener noreferrer">
                {{ show.data.title }}
              </a>
              {% else %}
              {{ show.data.title }}
              {% endif %}
            </h3>
            {% if show.data.subtitle %}
            <p class="text-sm">{{ show.data.subtitle }}</p>
            {% endif %}
            {% if show.data.description %}
            <p class="text-sm">{{ show.data.description }}</p>
            {% endif %}
            {% if show.data.rating %}
            <p>{{ show.data.rating | starRating }}</p>
            {% endif %}
          </div>
        </article>
      </li>
      {% endfor %}
    </ul>
  </div>
  {% endfor %}
</section>
{% endif %}

{% if pagination.pages.length > 1 %}
{% include 'components/pagination.njk' %}
{% endif %}
